<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='admin.css') }}">
</head>
<body>

<!-- NAVBAR -->
<div class="navbar">
    <h2>Blockchain Voting - Admin</h2>
    <a href="/logout">Logout</a>
</div>

<!-- DASHBOARD -->
<div class="dashboard">

    <!-- Candidates -->
    <div class="card blue" style="width:90%;">
        <h3>Candidates</h3>
        <table width="100%" border="1">
            <tr>
                <th>Name</th>
                <th>Party</th>
                <th>Action</th>
            </tr>
            {% for c in candidates %}
            <tr>
                <td>{{ c.name }}</td>
                <td>{{ c.party }}</td>
                <td>
                    <a href="/delete_candidate/{{ c.id }}"
                       onclick="return confirm('Delete this candidate?')">
                       ❌ Delete
                    </a>
                </td>
            </tr>
            {% endfor %}
        </table>
        <br>
        <a href="/add_candidate" class="btn">➕ Add Candidate</a>
    </div>

    <!-- Voters -->
    <div class="card green" style="width:90%;">
        <h3>Voters</h3>
        <table width="100%" border="1">
            <tr>
                <th>Voter ID</th>
                <th>Name</th>
                <th>Voted</th>
                <th>Action</th>
            </tr>
            {% for v in voters %}
            <tr>
                <td>{{ v.voter_id }}</td>
                <td>{{ v.voter_name }}</td>
                <td>{{ 'Yes' if v.has_voted else 'No' }}</td>
                <td>
                    <a href="/delete_voter/{{ v.voter_id }}"
                       onclick="return confirm('Delete this voter?')">
                       ❌ Delete
                    </a>
                </td>
            </tr>
            {% endfor %}
        </table>
        <br>
        <a href="/add_voter" class="btn">➕ Add Voter</a>
    </div>

    <!-- Result -->
    <div class="card orange">
        <h3>Election Result</h3>
        <a href="/result" class="btn">View Result</a>
    </div>

</div>

</body>
</html>